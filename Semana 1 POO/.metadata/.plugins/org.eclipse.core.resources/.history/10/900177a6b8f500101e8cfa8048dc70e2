package com.mx.Estudiante;

import java.util.ArrayList;
import java.util.List;
import java.util.Scanner;

public class Principal {

	public static void main(String[] args) {

		// instanciar el objeto
		Estudiante e1 = new Estudiante(1, "Lily", "Gonzalez", 26, "Sistemas", 11);
		Estudiante e2 = new Estudiante(2, "Sebastian", "Ramirez", 27, "Quimica", 6);
		Estudiante e3 = new Estudiante(3, "Raul", "Perez", 30, "Software", 3);
		Estudiante e4 = new Estudiante(4, "Angel", "Corona", 29, "Administracion", 10);
		Estudiante e5 = new Estudiante(5, "Javier", "Diaz", 35, "Mecatronica", 4);
		Estudiante e6 = new Estudiante(6, "Mari", "Sanchez", 40, "Mecania", 8);
		Estudiante e7 = new Estudiante(7, "Gabriela", "Flores", 20, "Biotecnologia", 7);

		// objeto auxiliar
		Estudiante auAux = null;

		// Declaracion de objetos de una lista para almacenar los objetos

		List<Estudiante> lista = new ArrayList<Estudiante>();

		// agregar los objetos a la lista

		lista.add(e1);
		lista.add(e2);
		lista.add(e3);
		lista.add(e4);
		lista.add(e5);
		lista.add(e6);
		lista.add(e7);

		/*
		 * //mostrar lo que hay en la lista, imprime en consola
		 * System.out.println(lista);
		 * 
		 * //buscar un elemento en especifico auAux = lista.get(1);
		 * System.out.println("Elemento encontrado" + auAux);
		 * 
		 * //editar un elemto de la lista
		 * 
		 * auAux =lista.get(2); auAux.setNombre("Sofia"); auAux.setEdad(86);
		 * System.out.println("Elemento editado" + auAux);
		 * 
		 * //eliminar elemento de la lista lista.remove(3);
		 * System.out.println("Lista actualizada\n " +lista);
		 * 
		 * //contar los elemtos de la lista System.out.println("Existen "+ lista.size()
		 * + " estudiantes inscritos");
		 * 
		 * 
		 * //elimar lista lista.clear(); //validar si si esta vacia if(lista.isEmpty())
		 * { System.out.println("No existen estudiantes en la lista");
		 * 
		 * }else { System.out.println(lista); }
		 */

		// crear un menu interactivo que me ayudara a modificar la lista desde consola
		// de forma interactiva

		Scanner scan = null; // se utiliza para leer la entrada de un usuario
		int menuPrincipal = 0, menuEditar = 0, indice = 0;
		// los menus son variables que almacenaran opciones o indice va a simular el
		// indice de un objeto

		// variables locales
		String nombre, apellido, carrera;
		int id, edad, semestre;

		// uso del ciclo do while en java es una esturctura que permite ejecutar un
		// bloque de codigo al menos una vez y este contunua su ejecucuon hasta cumplir
		// la condicion

		do {
			System.out.println("-----MENU------");
			System.out.println("1.- AGREGAR");
			System.out.println("2.- MOSTRAR LA LISTA");
			System.out.println("3.- BUSCAR POR ATRIBUTO");
			System.out.println("4.- EDITAR");
			System.out.println("5.- ELIMINAR POR ATRIBUTO");
			System.out.println("6.- CONTAR");
			System.out.println("7.- ELIMINAR TODO");
			System.out.println("8.- SALIR");
			System.out.println("ELIGE UNA OPCION DENTRO DEL MENU");

			scan = new Scanner(System.in);
			menuPrincipal = scan.nextInt();

			/*
			 * Metodo swicth o case: estructura de control de flujo que nos permite ejecutar
			 * diferentes bloques de codigo en el valor de una expresion, tambien conocidos
			 * como metodo case porque dentro del switch se utilizan diferntes case paea
			 * manejar los diferenres casos de una expresion
			 */

			switch (menuPrincipal) {
			case 1:
				
				System.out.println("1.- Agregar un nuevo estudiante: ");
				System.out.println("Escribe el ID del estudiante: ");
				scan = new Scanner(System.in);
				id = scan.nextInt();

				System.out.println("Escribe el nombre del estudiante: ");
				scan = new Scanner(System.in);
				nombre = scan.nextLine();

				System.out.println("Escribe el apellido del estudiante: ");
				scan = new Scanner(System.in);
				apellido = scan.nextLine();

				System.out.println("Escribe la edad del estudiante: ");
				scan = new Scanner(System.in);
				edad = scan.nextInt();

				System.out.println("Escribe el carrera del estudiante: ");
				scan = new Scanner(System.in);
				carrera = scan.nextLine();

				System.out.println("Escribe el semestre del estudiante: ");
				scan = new Scanner(System.in);
				semestre = scan.nextInt();

				// instanciar
				auAux = new Estudiante(id, nombre, apellido, edad, carrera, semestre);
				// guardar en la lista
				boolean existe = false;

				//recorrer la lista para validar el ID
				for (int i = 0; i < lista.size(); i++) {
					auAux = lista.get(i);
					
					if (auAux.getId() == id) {
						existe = true;
						break;
					}
				}
				if (existe) {
					System.out.println("El ID ya existe, no se puede registrar el estudiante");
				} else {
					auAux = new Estudiante(id, nombre, apellido, edad, carrera, semestre);
					lista.add(auAux);
					System.out.println("El registro se guardo con exito");
				}

				lista.add(auAux);
				System.out.println("El registro se guardo con exito ");
				break; // rompe el case de ese momento y romper el flujo y regresar automaticamente al
						// menu

			case 2:
				System.out.println("2.- Mostrar lista de estudiantes: ");
				System.out.println(lista);
				break;

			// BUSCAR POR ATRIBUTO
			// El usuario puede buscar por nombre, apellido, edad, carrera o semestre
			case 3:
				System.out.println("3.- Buscar por atributo ");
				System.out.println("Buscar por: ");
				System.out.println("1.- Nombre ");
				System.out.println("2.- Apellido ");
				System.out.println("3.- Edad ");
				System.out.println("4.- Carrera ");
				System.out.println("5.- Semestre ");
				System.out.println("Elige una opcion del menu: ");

				scan = new Scanner(System.in);
				int opBuscar = scan.nextInt(); // guarda la opcion elegida por el usuario

				int encontrados = 0; // contador de coincidencias

				switch (opBuscar) {
				case 1:
					System.out.println("Escribe el nombre a buscar: ");
					scan = new Scanner(System.in);
					nombre = scan.nextLine();

					// Recorre toda la lista para comparar el nombre
					for (int i = 0; i < lista.size(); i++) {
						auAux = lista.get(i); // guardo el estudiante actual en el auxiliar
						if (auAux.getNombre().equalsIgnoreCase(nombre)) {
							System.out.println("Encontrado: " + auAux);
							encontrados++;
						}
					}
					break;

				case 2:
					System.out.println("Escribe el apellido a buscar: ");
					scan = new Scanner(System.in);
					apellido = scan.nextLine();

					// Recorre la lista comparando apellidos
					for (int i = 0; i < lista.size(); i++) {
						auAux = lista.get(i);
						if (auAux.getApellido().equalsIgnoreCase(apellido)) {
							System.out.println("Encontrado: " + auAux);
							encontrados++;
						}
					}
					break;

				case 3:
					System.out.println("Escribe la edad a buscar: ");
					scan = new Scanner(System.in);
					edad = scan.nextInt();

					// Recorre la lista comparando edades
					for (int i = 0; i < lista.size(); i++) {
						auAux = lista.get(i);
						if (auAux.getEdad() == edad) {
							System.out.println("Encontrado: " + auAux);
							encontrados++;
						}
					}
					break;

				case 4:
					System.out.println("Escribe la carrera a buscar: ");
					scan = new Scanner(System.in);
					carrera = scan.nextLine();

					// Recorre la lista comparando carreras
					for (int i = 0; i < lista.size(); i++) {
						auAux = lista.get(i);
						if (auAux.getCarrera().equalsIgnoreCase(carrera)) {
							System.out.println("Encontrado: " + auAux);
							encontrados++;
						}
					}
					break;

				case 5:
					System.out.println("Escribe el semestre a buscar: ");
					scan = new Scanner(System.in);
					semestre = scan.nextInt();

					// Recorre la lista comparando semestres
					for (int i = 0; i < lista.size(); i++) {
						auAux = lista.get(i);
						if (auAux.getSemestre() == semestre) {
							System.out.println("Encontrado: " + auAux);
							encontrados++;
						}
					}
					break;

				default:
					System.out.println("Opcion no valida en buscar ");
					break;
				}

				// Muestra el resultado final de la busqueda
				if (opBuscar >= 1 && opBuscar <= 5) {
					if (encontrados == 0) {
						System.out.println("No se encontro ningun estudiante con ese dato ");
					} else {
						System.out.println("Total encontrados: " + encontrados);
					}
				}
				break;

			case 4:
				System.out.println("3. Editar lista ");
				System.out.println("Ingresa el indice para editar ");
				scan = new Scanner(System.in);
				indice = scan.nextInt();

				auAux = lista.get(indice);
				do {
					System.out.println("1. Editar nombre ");
					System.out.println("2. Editar apellido ");
					System.out.println("3. Editar edad ");
					System.out.println("4. Editar carrera ");
					System.out.println("5. Editar smestre ");
					System.out.println("6. Regresar al menu principal ");
					System.out.println("Elige una opcion valida en el menu ");
					scan = new Scanner(System.in);
					menuEditar = scan.nextInt();

					switch (menuEditar) {
					case 1:
						System.out.println("Escribe el nuevo nombre del estudiante ");
						scan = new Scanner(System.in);
						nombre = scan.nextLine();
						auAux.setNombre(nombre);
						System.out.println("Se edito correctamente el nombre ");
						break;

					case 2:
						System.out.println("Escribe el nuevo apellido del estudiante ");
						scan = new Scanner(System.in);
						apellido = scan.nextLine();
						auAux.setApellido(apellido);
						System.out.println("Se edito correctamente el apellido ");
						break;

					case 3:
						System.out.println("Escribe la nueva edad del estudiante ");
						scan = new Scanner(System.in);
						edad = scan.nextInt();
						auAux.setEdad(edad);
						System.out.println("Se edito correctamente la edad ");
						break;

					case 4:
						System.out.println("Escribe la nueva carrera del estudiante ");
						scan = new Scanner(System.in);
						carrera = scan.nextLine();
						auAux.setCarrera(carrera);
						System.out.println("Se edito correctamente la carrera ");
						break;

					case 5:
						System.out.println("Escribe el nuevo semestre del estudiante ");
						scan = new Scanner(System.in);
						semestre = scan.nextInt();
						auAux.setSemestre(semestre);
						System.out.println("Se edito correctamente el semestre ");
						break;

					case 6:
						System.out.println("Regresando al menu principal ");
						break;
					default:
						System.out.println("Indice fuera de rango, intenta con un numero dentro del menu");
						break;

					}// CIERRE SWITCH DE EDITAR

				} while (menuEditar != 6); // cierra el do de editar
				break;// cierra el case de editar

			// ELIMINAR POR ATRIBUTO
			// El usuario puede eliminar estudiantes por nombre, apellido, edad, carrera o
			// semestre
			case 5:
				System.out.println("5.- Eliminar por atributo ");
				System.out.println("Eliminar por: ");
				System.out.println("1.- Nombre ");
				System.out.println("2.- Apellido ");
				System.out.println("3.- Edad ");
				System.out.println("4.- Carrera ");
				System.out.println("5.- Semestre ");
				System.out.println("Elige una opcion: ");

				scan = new Scanner(System.in);
				int opEliminar = scan.nextInt(); // opcion elegida para eliminar

				int eliminados = 0; // contador de registros eliminados

				switch (opEliminar) {
				case 1:
					System.out.println("Escribe el nombre a eliminar: ");
					scan = new Scanner(System.in);
					nombre = scan.nextLine();

					// Recorre la lista y elimina los nombres que coincidan
					for (int i = 0; i < lista.size(); i++) {
						auAux = lista.get(i); // guardo el objeto en el auxiliar
						if (auAux.getNombre().equalsIgnoreCase(nombre)) {
							lista.remove(i); // elimina el elemento
							i--; // evita que se salte elementos
							eliminados++;
						}
					}
					break;

				case 2:
					System.out.println("Escribe el apellido a eliminar: ");
					scan = new Scanner(System.in);
					apellido = scan.nextLine();

					// Recorre la lista y elimina los apellidos que coincidan
					for (int i = 0; i < lista.size(); i++) {
						auAux = lista.get(i);
						if (auAux.getApellido().equalsIgnoreCase(apellido)) {
							lista.remove(i);
							i--;
							eliminados++;
						}
					}
					break;

				case 3:
					System.out.println("Escribe la edad a eliminar: ");
					scan = new Scanner(System.in);
					edad = scan.nextInt();

					// Recorre la lista y elimina las edades que coincidan
					for (int i = 0; i < lista.size(); i++) {
						auAux = lista.get(i);
						if (auAux.getEdad() == edad) {
							lista.remove(i);
							i--;
							eliminados++;
						}
					}
					break;

				case 4:
					System.out.println("Escribe la carrera a eliminar: ");
					scan = new Scanner(System.in);
					carrera = scan.nextLine();

					// Recorre la lista y elimina las carreras que coincidan
					for (int i = 0; i < lista.size(); i++) {
						auAux = lista.get(i);
						if (auAux.getCarrera().equalsIgnoreCase(carrera)) {
							lista.remove(i);
							i--;
							eliminados++;
						}
					}
					break;

				case 5:
					System.out.println("Escribe el semestre a eliminar: ");
					scan = new Scanner(System.in);
					semestre = scan.nextInt();

					// Recorre la lista y elimina los semestres que coincidan
					for (int i = 0; i < lista.size(); i++) {
						auAux = lista.get(i);
						if (auAux.getSemestre() == semestre) {
							lista.remove(i);
							i--;
							eliminados++;
						}
					}
					break;

				default:
					System.out.println("Opcion no valida en eliminar ");
					break;
				}

				// Muestra el resultado final de la eliminacion
				if (opEliminar >= 1 && opEliminar <= 5) {
					if (eliminados == 0) {
						System.out.println("No se elimino ningun registro ");
					} else {
						System.out.println("Total eliminados: " + eliminados);
						System.out.println("Lista actualizada: \n " + lista);
					}
				}
				break;

			/*
			 * case 6: System.out.println("BUSCAR ELEMENTO ");
			 * System.out.println("Indica el indice para mostrar informacion "); scan = new
			 * Scanner(System.in); indice = scan.nextInt(); auAux = lista.get(indice);
			 * System.out.println("Esta es la informacion completa: \n " + auAux); break;
			 */

			/*
			 * case 7: System.out.println("5. ELIMINAR ");
			 * System.out.println("Indica el indice que desea eliminar "); scan = new
			 * Scanner(System.in); indice = scan.nextInt(); lista.remove(indice);
			 * System.out.println("Elemento eliminado \n Lista actualizada \n  " + lista);
			 * break;
			 */

			case 6:
				System.out.println("6. CONTAR ");
				System.out.println("Existen " + lista.size() + " estudiantes registrados");
				break;

			// eliminar todo
			// Borra todos los estudiantes de la lista
			case 7:
				System.out.println("7.- Eliminar todo");
				lista.clear(); // elimina todos los elementos de la lista
				auAux = null; // se limpia el objeto auxiliar

				// Verifica si la lista quedo vacia
				if (lista.isEmpty()) {
					System.out.println("La lista fue eliminada correctamente");
				} else {
					System.out.println("La lista aun contiene registros");
				}
				break;

			case 8:
				System.out.println("Saliendo del menu, vuelva pronto ");
				break;
			default:
				System.out.println("Indice fuera de rango, intenta un numero dentro del menu ");
				break;
			}

		} while (menuPrincipal != 8);

	}

}